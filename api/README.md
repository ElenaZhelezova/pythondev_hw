# Scoring API #
Скрипт обрабатывает POST запрос, содержащий валидный JSON определенного формата.  

<br>
<br>

#### структура запроса:
 
>  {“account”: “имя компании”, “login”: “имя пользователя”, “method”: “имя метода”, “token”: “аутентификационный токен”, “arguments”: “словарь с аргументами вызываемого метода”}

account – строка, опционально, может быть пустым

login - строка, опционально, может быть пустым

method - строка, обязательно, может быть пустым

token - строка, обязательно, может быть пустым

arguments – объект в терминах json,  обязательно, может быть пустым

<br>

#### структура ответа:
_OK:_
> {“code”: “числовой код”, “response”: “ответ вызываемого метода”}

_Ошибка:_
> {“code”: “числовой код”, “error”: “сообщение об ошибке”}

<br>
<br>  

#### метод online_score:
 
phone – строка или число, длиной 11, опционально, может быть пустым

email – строка, к которой есть “@”, опционально, может быть пустым <br>

first_name - строка, опционально, может быть пустым

last_name - строка, опционально, может быть пустым

birthday – дата DD.MM.YYYY, с которой прошло не юолее 70 лет,  опционально, может быть пустым

gender – число 0, 1 или 2, опционально, может быть пустым

<br>  

#### структура ответа:
_запрос от валидного пользователя admin:_
> {“score”: 42}

_OK:_
> {“score”: “число”}

_Ошибка:_
> {“code”: 422, “error”: “сообщение о том, какое поле не валидно”}

<br>
<br>

#### метод clients_interests:
 
client_ids – массив чисел, обязательно, не пустое
data – дата, DD.MM.YYYY , опционально, может быть пустым

<br>

##### структура ответа:
_OK:_
> {“client_id1”: [“interest1”, “interest2”], “client_id1”: [“interest1”, “interest2”],...}

_Ошибка:_
> {“code”: “числовой код”, “error”: “сообщение об ошибке”}

<br>
<br>


#### Запуск тестов (unittest): ####
>  python -m unittest test 

<br>
<br>